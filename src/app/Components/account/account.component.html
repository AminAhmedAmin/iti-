<app-header></app-header>

<!-- Start Dropdown categories -->
<header class="container-fluid  d-flex justify-content-center">
  <nav class="navbar navbar-expand-lg navbar-light  py-2 mx-3 d-flex d-flex justify-content-center">
    <div class="container-fluid fs-4 text-Light justify-content-center">
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown"
        aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNavDropdown">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link active text-success fw-bold" aria-current="page" routerLink="/Home">Home</a>
          </li>

        </ul>
      </div>
    </div>
  </nav>
</header>
<!-- End Dropdown categories -->

<!-- Start Order Details-->

<div class="options mt-5">
  <div class="container">
    <div class="row col-10 mx-auto">
      <div class="heading">
        <h2>Orders Information</h2>
      </div>
    </div>
  </div>
</div>
<!--  ngIf="" this div will only be displayed if there is no orderdetails for the user-->
<div *ngIf="!hasOrders" class=" alert alert-warning g-3 col-8 mx-auto my-5 border p-3">You have no orders </div>

<div *ngIf="hasOrders" class="row g-3 col-8 mx-auto my-5 border p-3">
  <table class="table table-hover">
    <thead class="table-dark">
      <tr >
        <td>Total Price </td>
        <td>Delivary Date</td>
        <td>Quantity</td>
      </tr>
    </thead>
    <tbody class="align-self-center">
      <tr *ngFor="let item of orderDetails">
        <td>${{item.totalPrice}}</td>
        <td>{{item.deliveryDate| date: 'dd/MM/yyyy'}}</td>
        <td>{{item.quantity}}</td>
      </tr>
    </tbody>
  </table>
</div>
<!-- End Order Details-->
<!-- Start Account info -->
<div class="options mt-5">
  <div class="container">
    <div class="row col-10 mx-auto">
      <div class="heading">
        <h2>Account Information</h2>
      </div>
    </div>
  </div>
</div>
<form [formGroup]="accountForm" *ngIf="accountForm" class="row g-3 col-8 mx-auto my-5 border p-3" novalidate
  (ngSubmit)="onSubmit()">
  <div class="col-md-4 form-group">
    <label class="form-label">Full-Name in Arabic</label>
    <input type="text" class="form-control" formControlName="nameAr"
      [class.is-invalid]="accountForm.get('nameAr')?.invalid && accountForm.get('nameAr')?.touched" />
    <small class="text-danger col-md-4"
      [class.d-none]="accountForm.get('nameAr')?.valid || accountForm.get('nameAr')?.untouched">
      Name in Arabic is required
    </small>
  </div>
  <div class="col-md-4 form-group">
    <label class="form-label">Full-Name in English</label>
    <input type="text" class="form-control" formControlName="nameEn"
      [class.is-invalid]="accountForm.get('nameEn')?.invalid && accountForm.get('nameEn')?.touched" />
    <small class="text-danger col-md-4"
      [class.d-none]="accountForm.get('nameEn')?.valid || accountForm.get('nameEn')?.untouched">
      Name in English is required
    </small>
  </div>
  <div class="col-md-4 form-group">
    <label class="form-label">Phone number</label>
    <input type="tel" maxlength="11" class="form-control" formControlName="phone"
      [class.is-invalid]="accountForm.get('phone')?.invalid && accountForm.get('phone')?.touched" />
    <div class="col-md-4" *ngIf="accountForm.get('phone')?.invalid && accountForm.get('phone')?.touched">
      <small class="text-danger col-md-4" *ngIf="accountForm.get('phone')?.errors?.['required']">Phone number is
        required</small>
      <!-- <small class="text-danger col-md-4" *ngIf="accountForm.get('phone')?.errors?.['pattern']">Phone number is not valid</small> -->
    </div>
  </div>



  <div class="col-md-4 form-group">
    <label class="form-label">Country</label>
    <input type="text" class="form-control" formControlName="country" />
  </div>
  <div class="col-md-4 form-group">
    <label class="form-label">Street</label>
    <input type="text" class="form-control" formControlName="street" />
  </div>
  <div class="col-md-4 form-group">
    <label class="form-label">Building</label>
    <input type="text" class="form-control" formControlName="building" />
  </div>
  <div class="col-md-6 form-group">
    <label class="form-label">Floor number</label>
    <input type="number" class="form-control" formControlName="floor" />
  </div>
  <div class="col-md-6 form-group">
    <label class="form-label">Flat number</label>
    <input type="number" class="form-control" formControlName="flat" />
  </div>
  <div class="col-12 form-group">
    <label class="form-label">Notes</label>
    <textarea class="form-control" formControlName="notes"></textarea>
  </div>
  <div class="col-12 text-center">
    <button type="submit" class="btn btn-success col-4 btn-lg btn-block">Update</button>
  </div>
</form>
<!-- End Account info -->
<app-footer></app-footer>
